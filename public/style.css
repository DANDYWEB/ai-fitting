/* ───────── 색상 & 공통 변수 ───────── */
:root{
  --bg-900:#0f1114;
  --bg-800:#171a1f;
  --bg-card:#1e2228;
  --txt-100:#f1f3f7;
  --txt-300:#9da3b0;
  --accent:#00e5ff;
  --radius:10px;
}

/* ───────── 리셋 & 기본 ───────── */
*{box-sizing:border-box;margin:0;padding:0}
body.dark{
  font-family:'Poppins',sans-serif;
  background:var(--bg-900);
  color:var(--txt-100);
  min-height:100vh;
  display:flex;flex-direction:column;
}

/* ───────── 헤더 ───────── */
header{
  padding:20px 32px;
  background:var(--bg-800);
  border-bottom:2px solid var(--accent);
  text-align:center;
}
header h1{font-size:1.65rem;font-weight:600}
header .accent{color:var(--accent)}

/* ───────── 메인 레이아웃 ───────── */
.workspace{
  flex:1;
  display:flex;flex-wrap:wrap;
  gap:24px;
  padding:32px 24px;
}
.side-panel{
  flex:0 0 300px;
  display:flex;flex-direction:column;gap:24px;
}
.result-panel{flex:1 1 380px;min-width:0}

/* 카드 공통 */
.card{
  background:var(--bg-card);
  border-radius:var(--radius);
  padding:24px;
  box-shadow:0 0 0 2px rgba(0,229,255,.08);
}
.card h2{font-size:1.05rem;color:var(--accent);margin-bottom:12px}

/* ───────── 탭 ───────── */
.tabs{display:flex;gap:8px;margin-bottom:12px;list-style:none}
.tabs li{
  padding:8px 14px;
  font-size:.85rem;font-weight:600;
  border-radius:6px;
  cursor:pointer;
  color:var(--txt-300);
  transition:.25s;
  background:rgba(255,255,255,.04);
}
.tabs li.active,
.tabs li:hover{background:var(--accent);color:#002633}

/* ───────── 의류 그리드 ───────── */
.grid-clothes{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(90px,1fr));
  gap:12px;
}
.clothing-item{
  position:relative;
  border-radius:6px;
  overflow:hidden;
  cursor:pointer;
  transition:.3s;
  outline:2px solid transparent;
}
.clothing-item.selected{outline:2px solid var(--accent)}
.clothing-item img{width:100%;height:100%;object-fit:cover;display:block}
.clothing-item .item-info{
  position:absolute;bottom:0;left:0;width:100%;
  font-size:.7rem;text-align:center;
  padding:3px 0;background:rgba(0,0,0,.55);
}

/* ───────── 인물 사진 프리뷰 ───────── */
.preview-box{
  margin-top:12px;
  border:2px dashed var(--bg-800);
  border-radius:var(--radius);
  aspect-ratio:3/4;
  display:flex;align-items:center;justify-content:center;
  overflow:hidden;
  background:#16191d;
}
.preview-box img{width:100%;height:100%;object-fit:cover}

/* ───────── 결과 박스 ───────── */
.result-box{
  position:relative;
  aspect-ratio:3/4;
  border-radius:var(--radius);
  background:#101215;
  overflow:hidden;
  display:flex;align-items:center;justify-content:center;
}
.result-box img{width:100%;height:100%;object-fit:cover}
.result-box .placeholder{color:var(--txt-300);font-size:.9rem;text-align:center;padding:0 8px}

/* YouTube iframe (대기 영상) */
.result-box iframe{
  width:100%;height:100%;border:none;border-radius:var(--radius);
}

/* ───────── 버튼 공통 ───────── */
button,
.btn-upload{
  width:180px;
  padding:12px 0;
  font:600 1rem/1 'Poppins',sans-serif;
  border:none;border-radius:8px;
  cursor:pointer;
  transition:filter .3s ease;
}
button:hover,
.btn-upload:hover{filter:brightness(1.08);}
button:disabled{opacity:.45;cursor:not-allowed;}

/* Generate 버튼 */
#generateBtn{
  align-self:flex-end;
  background:var(--accent);
  color:#002633;
  box-shadow:0 0 12px rgba(0,229,255,.35);
}

/* ───────── 새 업로드(이미지 선택) 버튼 ───────── */
input[type="file"][id="personPhoto"]{display:none;}   /* 실제 인풋 숨김 */
.btn-upload{
  display:inline-block;
  margin-top:8px;
  color:#fff;
  background:linear-gradient(135deg,#00d0ff 0%,#ff2bd7 100%);
  box-shadow:0 0 8px rgba(0,208,255,.65),
             0 0 16px rgba(255,43,215,.4);
  position:relative;
  overflow:hidden;
}
.btn-upload::after{              /* 라이트 스윕 효과 */
  content:"";
  position:absolute;top:0;left:-150%;
  width:50%;height:100%;
  background:rgba(255,255,255,.35);
  transform:skewX(-25deg);
  transition:left .7s cubic-bezier(.4,0,.2,1);
}
.btn-upload:hover::after{left:130%;}

/* ───────── 이미지 다운로드 버튼 ───────── */
#dlBtn{
  display:none;                  /* 초기 숨김, JS 로 토글 */
  margin-top:16px;
  background:#13161a;
  color:var(--accent);
  border:1px solid var(--accent);
  box-shadow:0 0 8px rgba(0,229,255,.32);
}

/* ───────── 푸터 ───────── */
footer{
  text-align:center;font-size:.75rem;
  padding:12px 0 20px;color:var(--txt-300);
}

/* ───────── 반응형 ───────── */
@media (max-width:768px){
  .side-panel{flex:1 1 100%;}
  .side-panel,
  .result-panel{max-width:none}
}
@media (max-width:360px){
  .btn-upload,
  button,
  #dlBtn,
  .preview-box,
  .result-box{width:95%;}
}
